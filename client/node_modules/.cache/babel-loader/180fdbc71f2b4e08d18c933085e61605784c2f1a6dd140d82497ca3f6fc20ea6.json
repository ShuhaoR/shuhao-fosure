{"ast":null,"code":"import React,{useState}from\"react\";import{useNavigate,Link}from\"react-router-dom\";import{useTranslation}from\"react-i18next\";import\"../styles/login.css\";// Assuming you will add the styles here\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=_ref=>{let{setIsLoggedIn}=_ref;const[email,setEmail]=useState(\"\");const[password,setPassword]=useState(\"\");const[error,setError]=useState(\"\");const navigate=useNavigate();const{t,i18n}=useTranslation();const handleLogin=async()=>{try{const response=await fetch(\"https://shuhao-fosure.onrender.com/api/auth/login\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email,password})});const data=await response.json();if(response.ok){setIsLoggedIn(true);localStorage.setItem(\"isLoggedIn\",\"true\");navigate(\"/\");}else{setError(data.message);}}catch(err){setError(t(\"network_error\"));}};const changeLanguage=lang=>{i18n.changeLanguage(lang);// Call changeLanguage on the i18n instance\n};return/*#__PURE__*/_jsxs(\"div\",{className:\"login-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"login-left\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"logo-container\",children:[/*#__PURE__*/_jsx(\"img\",{src:require(\"./logo.png\"),alt:\"Company Logo\",className:\"logo\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"\\u57FA\\u91D1\\u6295\\u8D44\\u52A9\\u624B|\\u6295\\u7814\\u4E13\\u5BB6\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"branding-image\",children:/*#__PURE__*/_jsx(\"img\",{src:require(\"./invest.png\"),alt:\"Branding\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"login-right\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Hello!\"}),/*#__PURE__*/_jsx(\"p\",{children:t(\"欢迎登录\")}),/*#__PURE__*/_jsxs(\"form\",{className:\"login-form\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:email,onChange:e=>setEmail(e.target.value),placeholder:t(\"请输入邮箱\")})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,onChange:e=>setPassword(e.target.value),placeholder:t(\"请输入密码\")})}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleLogin,children:t(\"登录\")}),/*#__PURE__*/_jsxs(\"div\",{className:\"extra-options\",children:[/*#__PURE__*/_jsx(Link,{to:\"/forgot-password\",children:t(\"忘记密码?\")}),/*#__PURE__*/_jsxs(\"div\",{className:\"wechat-login\",children:[/*#__PURE__*/_jsx(\"p\",{children:t(\"微信扫码登录\")}),/*#__PURE__*/_jsx(Link,{to:\"/wechat-login\",children:/*#__PURE__*/_jsx(\"img\",{src:require(\"./wechat.png\"),alt:\"WeChat Logo\"})})]})]}),/*#__PURE__*/_jsxs(\"p\",{children:[t(\"还没有账户？\"),\" \",/*#__PURE__*/_jsx(Link,{to:\"/register\",children:t(\"注册\")})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"language-switcher\",children:/*#__PURE__*/_jsxs(\"select\",{onChange:e=>changeLanguage(e.target.value),className:\"language-switcher\",defaultValue:i18n.language,children:[/*#__PURE__*/_jsx(\"option\",{value:\"en\",children:\"English\"}),/*#__PURE__*/_jsx(\"option\",{value:\"zh\",children:\"Language:\\u4E2D\\u6587\"})]})})]})]});};export default Login;","map":{"version":3,"names":["React","useState","useNavigate","Link","useTranslation","jsx","_jsx","jsxs","_jsxs","Login","_ref","setIsLoggedIn","email","setEmail","password","setPassword","error","setError","navigate","t","i18n","handleLogin","response","fetch","method","headers","body","JSON","stringify","data","json","ok","localStorage","setItem","message","err","changeLanguage","lang","className","children","src","require","alt","type","value","onChange","e","target","placeholder","onClick","to","defaultValue","language"],"sources":["/Users/shuhaoruan/shuhao-fosure/client/src/components/Login.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\nimport \"../styles/login.css\"; // Assuming you will add the styles here\n\nconst Login = ({ setIsLoggedIn }) => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const navigate = useNavigate();\n  const { t, i18n } = useTranslation();\n\n  const handleLogin = async () => {\n    try {\n      const response = await fetch(\n        \"https://shuhao-fosure.onrender.com/api/auth/login\",\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({ email, password }),\n        }\n      );\n\n      const data = await response.json();\n\n      if (response.ok) {\n        setIsLoggedIn(true);\n        localStorage.setItem(\"isLoggedIn\", \"true\");\n        navigate(\"/\");\n      } else {\n        setError(data.message);\n      }\n    } catch (err) {\n      setError(t(\"network_error\"));\n    }\n  };\n\n  const changeLanguage = (lang) => {\n    i18n.changeLanguage(lang); // Call changeLanguage on the i18n instance\n  };\n\n  return (\n    <div className=\"login-container\">\n      <div className=\"login-left\">\n        <div className=\"logo-container\">\n          <img\n            src={require(\"./logo.png\")}\n            alt=\"Company Logo\"\n            className=\"logo\"\n          />\n          <h1>基金投资助手|投研专家</h1>\n        </div>\n        <div className=\"branding-image\">\n          <img src={require(\"./invest.png\")} alt=\"Branding\" />\n        </div>\n      </div>\n      <div className=\"login-right\">\n        <h2>Hello!</h2>\n        <p>{t(\"欢迎登录\")}</p>\n        <form className=\"login-form\">\n          <div className=\"form-group\">\n            <input\n              type=\"email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              placeholder={t(\"请输入邮箱\")}\n            />\n          </div>\n          <div className=\"form-group\">\n            <input\n              type=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              placeholder={t(\"请输入密码\")}\n            />\n          </div>\n          {error && <p className=\"error-message\">{error}</p>}\n          <button type=\"button\" onClick={handleLogin}>\n            {t(\"登录\")}\n          </button>\n          <div className=\"extra-options\">\n            <Link to=\"/forgot-password\">{t(\"忘记密码?\")}</Link>\n            <div className=\"wechat-login\">\n              <p>{t(\"微信扫码登录\")}</p>\n              {/* Wrap the WeChat logo in an anchor tag */}\n              <Link to=\"/wechat-login\">\n                <img src={require(\"./wechat.png\")} alt=\"WeChat Logo\" />\n              </Link>\n            </div>\n          </div>\n          <p>\n            {t(\"还没有账户？\")} <Link to=\"/register\">{t(\"注册\")}</Link>\n          </p>\n        </form>\n        <div className=\"language-switcher\">\n          <select\n            onChange={(e) => changeLanguage(e.target.value)}\n            className=\"language-switcher\"\n            defaultValue={i18n.language}\n          >\n            <option value=\"en\">English</option>\n            <option value=\"zh\">Language:中文</option>\n          </select>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}