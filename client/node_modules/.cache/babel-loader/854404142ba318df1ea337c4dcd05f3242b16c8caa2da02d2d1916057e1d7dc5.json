{"ast":null,"code":"// src/components/CreateFund.js\nimport React,{useState,useEffect}from\"react\";import{useNavigate,useParams}from\"react-router-dom\";import{useTranslation}from\"react-i18next\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CreateFund=()=>{const{t}=useTranslation();const{id}=useParams();const[fund,setFund]=useState({name:\"\",netValue:\"\",cumulativeNetValue:\"\"});const navigate=useNavigate();useEffect(()=>{if(id){const fetchFund=async()=>{try{const response=await fetch(`http://localhost:5001/api/funds/${id}`);const data=await response.json();setFund(data);}catch(error){console.error(\"Error fetching fund:\",error);}};fetchFund();}},[id]);const handleSubmit=async e=>{e.preventDefault();const method=id?\"PUT\":\"POST\";const url=id?`http://localhost:5001/api/funds/${id}`:\"http://localhost:5001/api/funds\";try{const response=await fetch(url,{method,headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(fund)});if(response.ok){navigate(\"/funds\");}else{console.error(\"Error saving fund\");}}catch(error){console.error(\"Network error:\",error);}};const handleChange=e=>{setFund({...fund,[e.target.name]:e.target.value});};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h1\",{children:id?t(\"update_fund\"):t(\"create_fund\")}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:fund.name,onChange:handleChange,placeholder:t(\"fund_name\")}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"netValue\",value:fund.netValue,onChange:handleChange,placeholder:t(\"net_value\")}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"cumulativeNetValue\",value:fund.cumulativeNetValue,onChange:handleChange,placeholder:t(\"cumulative_net_value\")}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:t(\"save_fund\")})]});};export default CreateFund;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useParams","useTranslation","jsx","_jsx","jsxs","_jsxs","CreateFund","t","id","fund","setFund","name","netValue","cumulativeNetValue","navigate","fetchFund","response","fetch","data","json","error","console","handleSubmit","e","preventDefault","method","url","headers","body","JSON","stringify","ok","handleChange","target","value","onSubmit","children","type","onChange","placeholder"],"sources":["/Users/shuhaoruan/shuhao-fosure/client/src/components/CreateFund.js"],"sourcesContent":["// src/components/CreateFund.js\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\n\nconst CreateFund = () => {\n  const { t } = useTranslation();\n  const { id } = useParams();\n  const [fund, setFund] = useState({\n    name: \"\",\n    netValue: \"\",\n    cumulativeNetValue: \"\",\n  });\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (id) {\n      const fetchFund = async () => {\n        try {\n          const response = await fetch(`http://localhost:5001/api/funds/${id}`);\n          const data = await response.json();\n          setFund(data);\n        } catch (error) {\n          console.error(\"Error fetching fund:\", error);\n        }\n      };\n\n      fetchFund();\n    }\n  }, [id]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    const method = id ? \"PUT\" : \"POST\";\n    const url = id\n      ? `http://localhost:5001/api/funds/${id}`\n      : \"http://localhost:5001/api/funds\";\n\n    try {\n      const response = await fetch(url, {\n        method,\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(fund),\n      });\n\n      if (response.ok) {\n        navigate(\"/funds\");\n      } else {\n        console.error(\"Error saving fund\");\n      }\n    } catch (error) {\n      console.error(\"Network error:\", error);\n    }\n  };\n\n  const handleChange = (e) => {\n    setFund({ ...fund, [e.target.name]: e.target.value });\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <h1>{id ? t(\"update_fund\") : t(\"create_fund\")}</h1>\n      <input\n        type=\"text\"\n        name=\"name\"\n        value={fund.name}\n        onChange={handleChange}\n        placeholder={t(\"fund_name\")}\n      />\n      <input\n        type=\"number\"\n        name=\"netValue\"\n        value={fund.netValue}\n        onChange={handleChange}\n        placeholder={t(\"net_value\")}\n      />\n      <input\n        type=\"number\"\n        name=\"cumulativeNetValue\"\n        value={fund.cumulativeNetValue}\n        onChange={handleChange}\n        placeholder={t(\"cumulative_net_value\")}\n      />\n      <button type=\"submit\">{t(\"save_fund\")}</button>\n    </form>\n  );\n};\n\nexport default CreateFund;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}