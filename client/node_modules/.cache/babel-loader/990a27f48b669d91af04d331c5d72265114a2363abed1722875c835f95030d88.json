{"ast":null,"code":"// src/components/Register.js\nimport React,{useState}from\"react\";import axios from\"axios\";import{useNavigate}from\"react-router-dom\";import\"../styles/styles.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Register=()=>{const[username,setUsername]=useState(\"\");const[email,setEmail]=useState(\"\");const[password,setPassword]=useState(\"\");const[error,setError]=useState(\"\");const[success,setSuccess]=useState(\"\");const navigate=useNavigate();const handleRegister=async()=>{setError(\"\");setSuccess(\"\");if(!username||!email||!password){setError(\"All fields are required.\");return;}try{const response=await axios.post(\"/api/auth/register\",{username,email,password});if(response.status===201){setSuccess(\"Registration successful!\");navigate(\"/login\");// Redirect to login page after successful registration\n}else{setError(response.data.message||\"Registration failed.\");}}catch(error){var _error$response,_error$response$data;console.error(\"Registration error:\",error);setError(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||\"Registration failed.\");}};return/*#__PURE__*/_jsxs(\"div\",{className:\"register-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Register\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:username,onChange:e=>setUsername(e.target.value),placeholder:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:email,onChange:e=>setEmail(e.target.value),placeholder:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,onChange:e=>setPassword(e.target.value),placeholder:\"Password\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleRegister,children:\"Register\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:error}),success&&/*#__PURE__*/_jsx(\"p\",{className:\"success-message\",children:success})]});};export default Register;","map":{"version":3,"names":["React","useState","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","Register","username","setUsername","email","setEmail","password","setPassword","error","setError","success","setSuccess","navigate","handleRegister","response","post","status","data","message","_error$response","_error$response$data","console","className","children","type","value","onChange","e","target","placeholder","onClick"],"sources":["/Users/shuhaoruan/shuhao-fosure/client/src/components/Register.js"],"sourcesContent":["// src/components/Register.js\n\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"../styles/styles.css\";\n\nconst Register = () => {\n  const [username, setUsername] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [success, setSuccess] = useState(\"\");\n  const navigate = useNavigate();\n\n  const handleRegister = async () => {\n    setError(\"\");\n    setSuccess(\"\");\n\n    if (!username || !email || !password) {\n      setError(\"All fields are required.\");\n      return;\n    }\n\n    try {\n      const response = await axios.post(\"/api/auth/register\", {\n        username,\n        email,\n        password,\n      });\n\n      if (response.status === 201) {\n        setSuccess(\"Registration successful!\");\n        navigate(\"/login\"); // Redirect to login page after successful registration\n      } else {\n        setError(response.data.message || \"Registration failed.\");\n      }\n    } catch (error) {\n      console.error(\"Registration error:\", error);\n      setError(error.response?.data?.error || \"Registration failed.\");\n    }\n  };\n\n  return (\n    <div className=\"register-container\">\n      <h1>Register</h1>\n      <input\n        type=\"text\"\n        value={username}\n        onChange={(e) => setUsername(e.target.value)}\n        placeholder=\"Username\"\n      />\n      <input\n        type=\"email\"\n        value={email}\n        onChange={(e) => setEmail(e.target.value)}\n        placeholder=\"Email\"\n      />\n      <input\n        type=\"password\"\n        value={password}\n        onChange={(e) => setPassword(e.target.value)}\n        placeholder=\"Password\"\n      />\n      <button onClick={handleRegister}>Register</button>\n      {error && <p className=\"error-message\">{error}</p>}\n      {success && <p className=\"success-message\">{success}</p>}\n    </div>\n  );\n};\n\nexport default Register;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}